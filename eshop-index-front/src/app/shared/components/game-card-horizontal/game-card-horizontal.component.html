<div class="card">
  <ng-container *ngIf="game">
    <div class="title-container">
      <!-- IMAGE -->
      <div class="card-image grey lighten-2 valign-wrapper"
          [class.auto-img-width]="autoImgWidth">
        <img [src]="game.game_image" [alt]="game.title">
      </div>

      <div class="card-content">
        <!-- TITLE -->
        <div class="card-title">
          <a class="link" [routerLink]="['/game', game.game_code]">{{ game.title }}</a>
        </div>

        <!-- TAGS -->
        <div class="list-container" *ngIf="game.tags">
          <!-- <i class="material-icons tiny">bookmark</i> -->
          <div class="list-items">
            <span class="chip" *ngFor="let tag of game.tags">{{ tag }}</span>
          </div>
        </div>

        <ng-container *ngIf="review">
          <div class="divider"></div>
        </ng-container>
      </div>

    </div>

    <!-- REVIEW TEXT -->
    <ng-container *ngIf="review">
      <div class="text-container">
        <div class="header-container">
          <div><i class="material-icons tiny">feedback</i>Review:</div>
          <div class="date">
            {{ review.date | date: 'short' }}{{ review.has_edited ? '*' : '' }}
          </div>
        </div>
        <div>{{ review.review_text }}</div>
      </div>

      <div class="card-action">
        <a class="waves-effect waves-orange btn-flat"
            [class.selected]="review.vote === true"
            [class.disabled]="_loadingThumbs"
            (click)="clickUseful(true)">
          <i class="material-icons left">thumb_up</i>{{ review.useful }}
        </a>

        <a class="waves-effect waves-orange btn-flat"
            [class.selected]="review.vote === false"
            [class.disabled]="_loadingThumbs"
            (click)="clickUseful(false)">
          <i class="material-icons left">thumb_down</i>{{ review.not_useful }}
        </a>
      </div>
    </ng-container>
  </ng-container>
</div>
